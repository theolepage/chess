#pragma once

namespace board
{
    struct defs
    {
        static constexpr auto NB_POS = 64;
        static constexpr auto DIRECTIONS = 8;

        static constexpr uint64_t RANK_ONE = 0xffULL;
        static constexpr uint64_t RANK_TWO = 0xff00ULL;
        static constexpr uint64_t RANK_THREE = 0xff0000ULL;
        static constexpr uint64_t RANK_FOUR = 0xff000000ULL;
        static constexpr uint64_t RANK_FIVE = 0xff00000000ULL;
        static constexpr uint64_t RANK_SIX = 0xff0000000000ULL;
        static constexpr uint64_t RANK_SEVEN = 0xff000000000000ULL;
        static constexpr uint64_t RANK_EIGHT = 0xff00000000000000ULL;

        static constexpr uint64_t FILE_A = 0x101010101010101ULL;
        static constexpr uint64_t FILE_B = 0x202020202020202ULL;
        static constexpr uint64_t FILE_C = 0x404040404040404ULL;
        static constexpr uint64_t FILE_D = 0x808080808080808ULL;
        static constexpr uint64_t FILE_E = 0x1010101010101010ULL;
        static constexpr uint64_t FILE_F = 0x2020202020202020ULL;
        static constexpr uint64_t FILE_G = 0x4040404040404040ULL;
        static constexpr uint64_t FILE_H = 0x8080808080808080ULL;

        static constexpr uint64_t borders = FILE_A | FILE_H | RANK_ONE | RANK_EIGHT;

        // In those arrays for each position we count the number of possibile
        // position (excluding the border that we consider at the end) we can
        // go to based on the piece type
        static constexpr int rook_bits[NB_POS] =
        {
            12, 11, 11, 11, 11, 11, 11, 12,
            11, 10, 10, 10, 10, 10, 10, 11,
            11, 10, 10, 10, 10, 10, 10, 11,
            11, 10, 10, 10, 10, 10, 10, 11,
            11, 10, 10, 10, 10, 10, 10, 11,
            11, 10, 10, 10, 10, 10, 10, 11,
            11, 10, 10, 10, 10, 10, 10, 11,
            12, 11, 11, 11, 11, 11, 11, 12
        };
        static constexpr int bishop_bits[NB_POS] =
        {
            6, 5, 5, 5, 5, 5, 5, 6,
            5, 5, 5, 5, 5, 5, 5, 5,
            5, 5, 7, 7, 7, 7, 5, 5,
            5, 5, 7, 9, 9, 7, 5, 5,
            5, 5, 7, 9, 9, 7, 5, 5,
            5, 5, 7, 7, 7, 7, 5, 5,
            5, 5, 5, 5, 5, 5, 5, 5,
            6, 5, 5, 5, 5, 5, 5, 6
        };

        static constexpr uint64_t rook_magics[NB_POS] =
        {
            0xa8002c000108020ULL,
            0x6c00049b0002001ULL,
            0x100200010090040ULL,
            0x2480041000800801ULL,
            0x280028004000800ULL,
            0x900410008040022ULL,
            0x280020001001080ULL,
            0x2880002041000080ULL,
            0xa000800080400034ULL,
            0x4808020004000ULL,
            0x2290802004801000ULL,
            0x411000d00100020ULL,
            0x402800800040080ULL,
            0xb000401004208ULL,
            0x2409000100040200ULL,
            0x1002100004082ULL,
            0x22878001e24000ULL,
            0x1090810021004010ULL,
            0x801030040200012ULL,
            0x500808008001000ULL,
            0xa08018014000880ULL,
            0x8000808004000200ULL,
            0x201008080010200ULL,
            0x801020000441091ULL,
            0x800080204005ULL,
            0x1040200040100048ULL,
            0x120200402082ULL,
            0xd14880480100080ULL,
            0x12040280080080ULL,
            0x100040080020080ULL,
            0x9020010080800200ULL,
            0x813241200148449ULL,
            0x491604001800080ULL,
            0x100401000402001ULL,
            0x4820010021001040ULL,
            0x400402202000812ULL,
            0x209009005000802ULL,
            0x810800601800400ULL,
            0x4301083214000150ULL,
            0x204026458e001401ULL,
            0x40204000808000ULL,
            0x8001008040010020ULL,
            0x8410820820420010ULL,
            0x1003001000090020ULL,
            0x804040008008080ULL,
            0x12000810020004ULL,
            0x1000100200040208ULL,
            0x430000a044020001ULL,
            0x280009023410300ULL,
            0xe0100040002240ULL,
            0x200100401700ULL,
            0x2244100408008080ULL,
            0x8000400801980ULL,
            0x2000810040200ULL,
            0x8010100228810400ULL,
            0x2000009044210200ULL,
            0x4080008040102101ULL,
            0x40002080411d01ULL,
            0x2005524060000901ULL,
            0x502001008400422ULL,
            0x489a000810200402ULL,
            0x1004400080a13ULL,
            0x4000011008020084ULL,
            0x26002114058042ULL
        };

        static constexpr uint64_t bishop_magics[NB_POS] =
        {
            0x89a1121896040240ULL,
            0x2004844802002010ULL,
            0x2068080051921000ULL,
            0x62880a0220200808ULL,
            0x4042004000000ULL,
            0x100822020200011ULL,
            0xc00444222012000aULL,
            0x28808801216001ULL,
            0x400492088408100ULL,
            0x201c401040c0084ULL,
            0x840800910a0010ULL,
            0x82080240060ULL,
            0x2000840504006000ULL,
            0x30010c4108405004ULL,
            0x1008005410080802ULL,
            0x8144042209100900ULL,
            0x208081020014400ULL,
            0x4800201208ca00ULL,
            0xf18140408012008ULL,
            0x1004002802102001ULL,
            0x841000820080811ULL,
            0x40200200a42008ULL,
            0x800054042000ULL,
            0x88010400410c9000ULL,
            0x520040470104290ULL,
            0x1004040051500081ULL,
            0x2002081833080021ULL,
            0x400c00c010142ULL,
            0x941408200c002000ULL,
            0x658810000806011ULL,
            0x188071040440a00ULL,
            0x4800404002011c00ULL,
            0x104442040404200ULL,
            0x511080202091021ULL,
            0x4022401120400ULL,
            0x80c0040400080120ULL,
            0x8040010040820802ULL,
            0x480810700020090ULL,
            0x102008e00040242ULL,
            0x809005202050100ULL,
            0x8002024220104080ULL,
            0x431008804142000ULL,
            0x19001802081400ULL,
            0x200014208040080ULL,
            0x3308082008200100ULL,
            0x41010500040c020ULL,
            0x4012020c04210308ULL,
            0x208220a202004080ULL,
            0x111040120082000ULL,
            0x6803040141280a00ULL,
            0x2101004202410000ULL,
            0x8200000041108022ULL,
            0x21082088000ULL,
            0x2410204010040ULL,
            0x40100400809000ULL,
            0x822088220820214ULL,
            0x40808090012004ULL,
            0x910224040218c9ULL,
            0x402814422015008ULL,
            0x90014004842410ULL,
            0x1000042304105ULL,
            0x10008830412a00ULL,
            0x2520081090008908ULL,
            0x40102000a0a60140ULL
        };

        /*
        static constexpr uint64_t rook_magics[NB_POS] =
            0x2080020500400f0ULL,
            0x28444000400010ULL,
            0x20000a1004100014ULL,
            0x20010c090202006ULL,
            0x8408008200810004ULL,
            0x1746000808002ULL,
            0x2200098000808201ULL,
            0x12c0002080200041ULL,
            0x104000208e480804ULL,
            0x8084014008281008ULL,
            0x4200810910500410ULL,
            0x100014481c20400cULL,
            0x4014a4040020808ULL,
            0x401002001010a4ULL,
            0x202000500010001ULL,
            0x8112808005810081ULL,
            0x40902108802020ULL,
            0x42002101008101ULL,
            0x459442200810c202ULL,
            0x81001103309808ULL,
            0x8110000080102ULL,
            0x8812806008080404ULL,
            0x104020000800101ULL,
            0x40a1048000028201ULL,
            0x4100ba0000004081ULL,
            0x44803a4003400109ULL,
            0xa010a00000030443ULL,
            0x91021a000100409ULL,
            0x4201e8040880a012ULL,
            0x22a000440201802ULL,
            0x30890a72000204ULL,
            0x10411402a0c482ULL,
            0x40004841102088ULL,
            0x40230000100040ULL,
            0x40100010000a0488ULL,
            0x1410100200050844ULL,
            0x100090808508411ULL,
            0x1410040024001142ULL,
            0x8840018001214002ULL,
            0x410201000098001ULL,
            0x8400802120088848ULL,
            0x2060080000021004ULL,
            0x82101002000d0022ULL,
            0x1001101001008241ULL,
            0x9040411808040102ULL,
            0x600800480009042ULL,
            0x1a020000040205ULL,
            0x4200404040505199ULL,
            0x2020081040080080ULL,
            0x40a3002000544108ULL,
            0x4501100800148402ULL,
            0x81440280100224ULL,
            0x88008000000804ULL,
            0x8084060000002812ULL,
            0x1840201000108312ULL,
            0x5080202000000141ULL,
            0x1042a180880281ULL,
            0x900802900c01040ULL,
            0x8205104104120ULL,
            0x9004220000440aULL,
            0x8029510200708ULL,
            0x8008440100404241ULL,
            0x2420001111000bdULL,
            0x4000882304000041ULL,
        };

        static constexpr uint64_t bishop_magics[NB_POS] =
            0x100420000431024ULL,
            0x280800101073404ULL,
            0x42000a00840802ULL,
            0xca800c0410c2ULL,
            0x81004290941c20ULL,
            0x400200450020250ULL,
            0x444a019204022084ULL,
            0x88610802202109aULL,
            0x11210a0800086008ULL,
            0x400a08c08802801ULL,
            0x1301a0500111c808ULL,
            0x1280100480180404ULL,
            0x720009020028445ULL,
            0x91880a9000010a01ULL,
            0x31200940150802b2ULL,
            0x5119080c20000602ULL,
            0x242400a002448023ULL,
            0x4819006001200008ULL,
            0x222c10400020090ULL,
            0x302008420409004ULL,
            0x504200070009045ULL,
            0x210071240c02046ULL,
            0x1182219000022611ULL,
            0x400c50000005801ULL,
            0x4004010000113100ULL,
            0x2008121604819400ULL,
            0xc4a4010000290101ULL,
            0x404a000888004802ULL,
            0x8820c004105010ULL,
            0x28280100908300ULL,
            0x4c013189c0320a80ULL,
            0x42008080042080ULL,
            0x90803000c080840ULL,
            0x2180001028220ULL,
            0x1084002a040036ULL,
            0x212009200401ULL,
            0x128110040c84a84ULL,
            0x81488020022802ULL,
            0x8c0014100181ULL,
            0x2222013020082ULL,
            0xa00100002382c03ULL,
            0x1000280001005c02ULL,
            0x84801010000114cULL,
            0x480410048000084ULL,
            0x21204420080020aULL,
            0x2020010000424a10ULL,
            0x240041021d500141ULL,
            0x420844000280214ULL,
            0x29084a280042108ULL,
            0x84102a8080a20a49ULL,
            0x104204908010212ULL,
            0x40a20280081860c1ULL,
            0x3044000200121004ULL,
            0x1001008807081122ULL,
            0x50066c000210811ULL,
            0xe3001240f8a106ULL,
            0x940c0204030020d4ULL,
            0x619204000210826aULL,
            0x2010438002b00a2ULL,
            0x884042004005802ULL,
            0xa90240000006404ULL,
            0x500d082244010008ULL,
            0x28190d00040014e0ULL,
            0x825201600c082444ULL,
        };
        */
    };
}